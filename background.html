<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>研究背景 | 极端高温与AI防灾研究</title>
    <meta name="description" content="深入了解全球变暖背景下极端高温事件的频发趋势及其对公众生活与防灾安全的威胁">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>

    <!-- Custom Styles -->
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-orange: #f97316;
            --accent-green: #059669;
            --neutral-light: #f8fafc;
            --neutral-dark: #374151;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        .serif-font {
            font-family: 'Noto Serif SC', serif;
        }

        .nav-blur {
            backdrop-filter: blur(10px);
            background: rgba(248, 250, 252, 0.9);
        }

        .animate-fade-in {
            opacity: 0;
            transform: translateY(30px);
        }

        .animate-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.8s ease;
        }

        .bg-pattern {
            background-image: radial-gradient(circle at 1px 1px, rgba(59, 130, 246, 0.1) 1px, transparent 0);
            background-size: 20px 20px;
        }

        .research-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .research-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="min-h-screen">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 nav-blur border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div
                        class="w-8 h-8 bg-gradient-to-br from-blue-600 to-orange-500 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">AI</span>
                    </div>
                    <span class="serif-font font-bold text-xl text-slate-800">极端高温研究</span>
                </div>

                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-slate-600 hover:text-blue-600 transition-colors">首页</a>
                    <a href="background.html" class="text-blue-600 font-medium">研究背景</a>
                    <a href="methodology.html" class="text-slate-600 hover:text-blue-600 transition-colors">研究方法</a>
                    <a href="results.html" class="text-slate-600 hover:text-blue-600 transition-colors">研究成果</a>
                    <a href="team.html" class="text-slate-600 hover:text-blue-600 transition-colors">研究团队</a>
                </div>

                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-600 hover:text-blue-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-200">
            <div class="px-4 py-2 space-y-2">
                <a href="index.html" class="block py-2 text-slate-600">首页</a>
                <a href="background.html" class="block py-2 text-blue-600 font-medium">研究背景</a>
                <a href="methodology.html" class="block py-2 text-slate-600">研究方法</a>
                <a href="results.html" class="block py-2 text-slate-600">研究成果</a>
                <a href="team.html" class="block py-2 text-slate-600">研究团队</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-24 pb-16 bg-gradient-to-br from-blue-50 to-slate-100 bg-pattern">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center animate-fade-in">
                <h1 class="serif-font text-4xl md:text-5xl lg:text-6xl font-bold text-slate-800 mb-6">
                    研究背景
                </h1>
                <p class="text-xl md:text-2xl text-slate-600 max-w-4xl mx-auto leading-relaxed">
                    在全球气候变化的大背景下，极端高温事件日益频发，
                    对人类社会和自然环境构成了前所未有的挑战
                </p>
            </div>
        </div>
    </section>

    <!-- Global Warming Context -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="animate-fade-in">
                    <h2 class="serif-font text-3xl md:text-4xl font-bold text-slate-800 mb-6">全球变暖的严峻现实</h2>
                    <div class="space-y-6">
                        <p class="text-lg text-slate-600 leading-relaxed">
                            全球变暖已成为当今世界面临的最严峻环境挑战之一。根据联合国政府间气候变化专门委员会（IPCC）的最新报告，
                            全球平均气温已上升约1.1°C，并且这一趋势正在加速。
                        </p>
                        <p class="text-lg text-slate-600 leading-relaxed">
                            在这种大背景下，极端高温事件的发生频率和强度都显著增加。过去十年中，
                            全球范围内的热浪事件创下了历史记录，给人类社会和自然生态系统带来了巨大冲击。
                        </p>
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                            <h3 class="font-semibold text-lg text-blue-800 mb-2">关键数据</h3>
                            <ul class="space-y-2 text-blue-700">
                                <li>• 2023年成为有记录以来最热的一年</li>
                                <li>• 极端高温事件频率增加了50倍</li>
                                <li>• 全球超过10亿人面临极端高温威胁</li>
                                <li>• 高温相关死亡率上升30%</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="animate-fade-in">
                    <div class="bg-white rounded-xl shadow-lg p-6 border border-slate-200">
                        <div id="global-temp-chart-bg" style="height: 450px;"></div>
                        <p class="text-xs text-slate-500 text-center mt-3">
                            数据来源: <a href="https://wmo.int/resources/dashboards/global-mean-temperature-1850-2024"
                                target="_blank" class="text-blue-600 hover:underline">World Meteorological Organization
                                (WMO)</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Temperature Measurement Problem -->
    <section class="py-20 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-fade-in">
                <h2 class="serif-font text-3xl md:text-4xl font-bold text-slate-800 mb-6">温度测量的科学问题</h2>
                <p class="text-xl text-slate-600 max-w-4xl mx-auto">
                    传统天气预报温度与实际地表温度之间存在显著差异，这一科学问题亟待解决
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div class="research-card bg-white p-8 rounded-xl shadow-lg border border-slate-200 animate-fade-in">
                    <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mb-6">
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                            </path>
                        </svg>
                    </div>
                    <h3 class="serif-font text-xl font-bold text-slate-800 mb-4">测量对象不同</h3>
                    <p class="text-slate-600 leading-relaxed">
                        天气预报温度测量的是距地高1.5-2米的空气温度，而地表温度指路面、土壤或屋顶表面的温度。
                        由于介质比热容的差异，地表温度可能比天气预报温度热很多或冷很多。
                    </p>
                </div>

                <div class="research-card bg-white p-8 rounded-xl shadow-lg border border-slate-200 animate-fade-in">
                    <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mb-6">
                        <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                            </path>
                        </svg>
                    </div>
                    <h3 class="serif-font text-xl font-bold text-slate-800 mb-4">测量环境差异</h3>
                    <p class="text-slate-600 leading-relaxed">
                        温度传感器通常放置在标准环境条件下的百叶箱或防辐射罩中，避开太阳直射。
                        而地表直接暴露在阳光下，会吸收大量太阳辐射，导致温度显著升高。
                    </p>
                </div>

                <div class="research-card bg-white p-8 rounded-xl shadow-lg border border-slate-200 animate-fade-in">
                    <div class="w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mb-6">
                        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="serif-font text-xl font-bold text-slate-800 mb-4">特殊情况</h3>
                    <p class="text-slate-600 leading-relaxed">
                        只有在阴天太阳辐射较弱，地表吸热慢，且有微风让空气流动混合时，
                        才会出现天气预报温度与地表温度短暂相等的状态。
                    </p>
                </div>
            </div>

            <!-- Temperature Comparison Chart -->
            <div class="bg-white rounded-xl shadow-lg p-8 animate-fade-in">
                <h3 class="serif-font text-2xl font-bold text-slate-800 mb-6 text-center">温度差异分析</h3>
                <div id="temp-comparison-chart" class="h-96"></div>
            </div>
        </div>
    </section>

    <!-- Research Significance -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-fade-in">
                <h2 class="serif-font text-3xl md:text-4xl font-bold text-slate-800 mb-6">研究的重要性</h2>
                <p class="text-xl text-slate-600 max-w-4xl mx-auto">
                    解决温度测量差异问题对于提升防灾减灾能力具有重要意义
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="animate-fade-in">
                    <div class="space-y-8">
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="serif-font text-xl font-bold text-slate-800 mb-2">公共安全威胁</h3>
                                <p class="text-slate-600 leading-relaxed">
                                    仅依赖天气预报温度可能导致公众低估实际高温危害，
                                    增加中暑、热射病等高温相关疾病的风险，威胁生命安全。
                                </p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-4">
                            <div
                                class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="serif-font text-xl font-bold text-slate-800 mb-2">经济损失</h3>
                                <p class="text-slate-600 leading-relaxed">
                                    高温灾害造成的农业减产、能源消耗增加、医疗成本上升等经济损失巨大，
                                    需要更精准的预警系统来减少损失。
                                </p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-4">
                            <div
                                class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="serif-font text-xl font-bold text-slate-800 mb-2">科学进步需求</h3>
                                <p class="text-slate-600 leading-relaxed">
                                    传统气象监测方法已无法满足现代防灾减灾的需求，
                                    需要结合AI等新技术来提升预警系统的准确性和时效性。
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="animate-fade-in">
                    <div class="bg-gradient-to-br from-red-50 to-orange-50 p-8 rounded-xl border border-red-200">
                        <h3 class="serif-font text-2xl font-bold text-red-800 mb-6 text-center">高温灾害影响统计</h3>

                        <!-- 全球工人暴露情况 -->
                        <div class="mb-6">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-red-700 font-medium">全球劳动力高温暴露率</span>
                                <span class="text-2xl font-bold text-red-800">71%</span>
                            </div>
                            <div class="w-full bg-red-200 rounded-full h-2.5">
                                <div class="bg-red-600 h-2.5 rounded-full" style="width: 71%"></div>
                            </div>
                            <p class="text-xs text-red-600 mt-1">2020年数据：2.31亿工人暴露于热浪，较2000年增加66%</p>
                        </div>

                        <!-- 各地区暴露率 -->
                        <div class="mb-6 bg-white/50 rounded-lg p-4">
                            <h4 class="text-sm font-semibold text-red-800 mb-3">各地区劳动力高温暴露率 (2020)</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-700">非洲</span>
                                        <span class="font-semibold text-red-700">92.9%</span>
                                    </div>
                                    <div class="w-full bg-red-100 rounded-full h-2">
                                        <div class="bg-red-500 h-2 rounded-full" style="width: 92.9%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-700">阿拉伯地区</span>
                                        <span class="font-semibold text-orange-700">83.6%</span>
                                    </div>
                                    <div class="w-full bg-orange-100 rounded-full h-2">
                                        <div class="bg-orange-500 h-2 rounded-full" style="width: 83.6%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-700">亚太地区</span>
                                        <span class="font-semibold text-amber-700">74.7%</span>
                                    </div>
                                    <div class="w-full bg-amber-100 rounded-full h-2">
                                        <div class="bg-amber-500 h-2 rounded-full" style="width: 74.7%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 关键数据卡片 -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="bg-white/60 rounded-lg p-4 text-center">
                                <div class="text-3xl font-bold text-red-800">4,200</div>
                                <div class="text-sm text-red-700">2020年热浪致死工人数</div>
                            </div>
                            <div class="bg-white/60 rounded-lg p-4 text-center">
                                <div class="text-3xl font-bold text-orange-700">$3,610亿</div>
                                <div class="text-sm text-orange-600">可避免的潜在经济损失</div>
                            </div>
                            <div class="bg-white/60 rounded-lg p-4 text-center">
                                <div class="text-3xl font-bold text-amber-700">+17.3%</div>
                                <div class="text-sm text-amber-600">欧洲/中亚暴露率增幅</div>
                                <div class="text-xs text-slate-500">2000-2020年，全球最快</div>
                            </div>
                            <div class="bg-white/60 rounded-lg p-4 text-center">
                                <div class="text-3xl font-bold text-rose-700">1.5%</div>
                                <div class="text-sm text-rose-600">中低收入国家GDP损失</div>
                                <div class="text-xs text-slate-500">因工作场所过热伤害</div>
                            </div>
                        </div>

                        <!-- 重要提示 -->
                        <div class="bg-red-100 border-l-4 border-red-500 p-3 rounded-r-lg mb-4">
                            <p class="text-sm text-red-800">
                                <span
                                    class="font-semibold">重要发现：</span>90%的工人高温暴露发生在<strong>非热浪期间</strong>，约80%的极端高温工伤事故也发生在非热浪期间。
                            </p>
                        </div>

                        <!-- 数据来源 -->
                        <div class="text-center pt-4 border-t border-red-200">
                            <p class="text-xs text-slate-500">
                                数据来源: <a
                                    href="https://www.ilo.org/resource/news/more-workers-ever-are-losing-fight-against-heat-stress"
                                    target="_blank"
                                    class="text-blue-600 hover:underline inline-flex items-center gap-1">
                                    International Labour Organization (ILO)
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14">
                                        </path>
                                    </svg>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div
                        class="w-8 h-8 bg-gradient-to-br from-blue-600 to-orange-500 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">AI</span>
                    </div>
                    <span class="serif-font font-bold text-xl">极端高温与AI防灾研究</span>
                </div>
                <p class="text-slate-400 mb-4">气象灾害学研究项目</p>
                <p class="text-slate-500 text-sm">© 2024 极端高温与AI防灾研究项目团队. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="main.js"></script>
    <script>
        // Initialize background page specific charts
        document.addEventListener('DOMContentLoaded', function () {
            initTempComparisonChart();
        });

        function initTempComparisonChart() {
            const chartElement = document.getElementById('temp-comparison-chart');
            if (!chartElement) return;

            const chart = echarts.init(chartElement);

            const hours = ['6:00', '8:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00'];
            const forecastTemp = [22, 24, 28, 32, 34, 33, 30, 27];
            const groundTemp = [20, 26, 35, 45, 52, 48, 40, 32];
            const difference = groundTemp.map((gt, i) => gt - forecastTemp[i]);

            const option = {
                title: {
                    text: '天气预报温度 vs 地表温度对比',
                    left: 'center',
                    textStyle: {
                        color: '#1e293b',
                        fontSize: 16,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: { type: 'cross' }
                },
                legend: {
                    data: ['天气预报温度', '地表温度', '温度差异'],
                    bottom: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: hours,
                    axisLine: { lineStyle: { color: '#cbd5e1' } },
                    axisLabel: { color: '#64748b' }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '温度 (°C)',
                        position: 'left',
                        axisLine: { lineStyle: { color: '#cbd5e1' } },
                        axisLabel: { color: '#64748b' },
                        splitLine: { lineStyle: { color: '#f1f5f9' } }
                    },
                    {
                        type: 'value',
                        name: '温差 (°C)',
                        position: 'right',
                        axisLine: { lineStyle: { color: '#cbd5e1' } },
                        axisLabel: { color: '#64748b' }
                    }
                ],
                series: [
                    {
                        name: '天气预报温度',
                        type: 'line',
                        data: forecastTemp,
                        smooth: true,
                        lineStyle: { color: '#3b82f6', width: 3 },
                        itemStyle: { color: '#3b82f6' }
                    },
                    {
                        name: '地表温度',
                        type: 'line',
                        data: groundTemp,
                        smooth: true,
                        lineStyle: { color: '#f97316', width: 3 },
                        itemStyle: { color: '#f97316' },
                        areaStyle: {
                            color: {
                                type: 'linear',
                                x: 0, y: 0, x2: 0, y2: 1,
                                colorStops: [
                                    { offset: 0, color: 'rgba(249, 115, 22, 0.2)' },
                                    { offset: 1, color: 'rgba(249, 115, 22, 0.05)' }
                                ]
                            }
                        }
                    },
                    {
                        name: '温度差异',
                        type: 'bar',
                        yAxisIndex: 1,
                        data: difference,
                        itemStyle: {
                            color: function (params) {
                                return params.value > 15 ? '#ef4444' : '#f59e0b';
                            }
                        }
                    }
                ],
                animation: true,
                animationDuration: 2000
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }
    </script>
    <script src="temperature-chart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 自定义无多源平均线的图表
            initGlobalTemperatureChartSimple('global-temp-chart-bg');
        });

        // 简化版图表（无多源平均线，优化布局）
        function initGlobalTemperatureChartSimple(containerId) {
            const chartElement = document.getElementById(containerId);
            if (!chartElement) return;

            const chart = echarts.init(chartElement);

            const temperatureData = {
                years: [1850, 1860, 1870, 1880, 1890, 1900, 1910, 1920, 1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000, 2010, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024],
                berkeleyEarth: [-0.18, -0.15, -0.06, -0.07, -0.22, 0.12, -0.23, -0.01, 0.10, 0.31, 0.06, 0.21, 0.25, 0.54, 0.69, 0.68, 1.00, 1.15, 1.29, 1.19, 1.11, 1.25, 1.28, 1.12, 1.16, 1.45, 1.54],
                era5: [null, null, null, null, null, null, null, null, null, 0.20, 0.12, 0.27, 0.31, 0.59, 0.75, 0.63, 1.01, 1.14, 1.32, 1.23, 1.15, 1.28, 1.32, 1.16, 1.18, 1.48, 1.60],
                gistemp: [null, null, null, 0.10, -0.09, 0.18, -0.17, 0.00, 0.12, 0.39, 0.10, 0.24, 0.29, 0.52, 0.72, 0.66, 0.99, 1.16, 1.28, 1.19, 1.12, 1.24, 1.27, 1.11, 1.16, 1.44, 1.55],
                hadcrut5: [-0.08, -0.05, 0.01, 0.02, -0.17, 0.11, -0.19, 0.04, 0.16, 0.42, 0.11, 0.22, 0.26, 0.54, 0.70, 0.67, 1.02, 1.17, 1.27, 1.19, 1.10, 1.23, 1.26, 1.10, 1.14, 1.44, 1.53],
                jra3q: [null, null, null, null, null, null, null, null, null, null, 0.10, 0.28, 0.27, 0.53, 0.74, 0.68, 0.99, 1.15, 1.32, 1.20, 1.11, 1.25, 1.27, 1.08, 1.15, 1.47, 1.57],
                noaa: [0.05, 0.02, 0.07, 0.07, -0.09, 0.19, -0.13, 0.02, 0.13, 0.40, 0.12, 0.25, 0.30, 0.56, 0.70, 0.66, 0.98, 1.16, 1.28, 1.19, 1.12, 1.23, 1.26, 1.11, 1.14, 1.43, 1.53]
            };

            const dataSourceNames = {
                berkeleyEarth: 'Berkeley Earth',
                era5: 'ERA5',
                gistemp: 'GISTEMP',
                hadcrut5: 'HadCRUT5',
                jra3q: 'JRA-3Q',
                noaa: 'NOAAGlobalTemp'
            };

            const dataSourceColors = {
                berkeleyEarth: '#e74c3c',
                era5: '#3498db',
                gistemp: '#27ae60',
                hadcrut5: '#9b59b6',
                jra3q: '#f39c12',
                noaa: '#1abc9c'
            };

            const series = Object.keys(dataSourceNames).map(key => ({
                name: dataSourceNames[key],
                type: 'line',
                data: temperatureData[key],
                smooth: true,
                symbol: 'circle',
                symbolSize: 5,
                lineStyle: { width: 2, color: dataSourceColors[key] },
                itemStyle: { color: dataSourceColors[key] },
                emphasis: { focus: 'series', lineStyle: { width: 3 } },
                connectNulls: true
            }));

            const option = {
                backgroundColor: '#fff',
                tooltip: {
                    trigger: 'axis',
                    backgroundColor: 'rgba(255,255,255,0.95)',
                    borderColor: '#e0e0e0',
                    borderWidth: 1,
                    textStyle: { color: '#333', fontSize: 12 },
                    formatter: function (params) {
                        let html = `<div style="font-weight:600;margin-bottom:6px;color:#1e3a8a">${params[0].axisValue}年</div>`;
                        html += '<div style="font-size:11px;color:#666;margin-bottom:4px">相对于1850-1900年平均值的偏差</div>';
                        params.forEach(p => {
                            if (p.value !== null && p.value !== undefined) {
                                const sign = p.value >= 0 ? '+' : '';
                                html += `<div style="display:flex;align-items:center;margin:3px 0;font-size:12px">
                                    <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:${p.color};margin-right:6px"></span>
                                    <span style="flex:1">${p.seriesName}</span>
                                    <span style="font-weight:600;color:${p.value >= 0 ? '#e74c3c' : '#3498db'}">${sign}${p.value}°C</span>
                                </div>`;
                            }
                        });
                        return html;
                    }
                },
                legend: {
                    bottom: 0,
                    left: 'center',
                    itemGap: 15,
                    itemWidth: 18,
                    itemHeight: 8,
                    textStyle: { fontSize: 11, color: '#666' },
                    data: Object.values(dataSourceNames)
                },
                grid: {
                    left: 70,
                    right: 20,
                    top: 30,
                    bottom: 70
                },
                xAxis: {
                    type: 'category',
                    data: temperatureData.years,
                    axisLine: { lineStyle: { color: '#ccc' } },
                    axisTick: { alignWithLabel: true },
                    axisLabel: { color: '#666', fontSize: 10, rotate: 0 }
                },
                yAxis: {
                    type: 'value',
                    name: '相对1850-1900年平均值偏差 (°C)',
                    nameLocation: 'middle',
                    nameGap: 50,
                    nameTextStyle: { color: '#666', fontSize: 11 },
                    min: -0.5,
                    max: 2.0,
                    interval: 0.5,
                    axisLine: { show: true, lineStyle: { color: '#ccc' } },
                    axisLabel: {
                        color: '#666',
                        fontSize: 10,
                        formatter: v => v >= 0 ? '+' + v.toFixed(1) : v.toFixed(1)
                    },
                    splitLine: { lineStyle: { color: '#f0f0f0', type: 'dashed' } }
                },
                series: series,
                animation: true,
                animationDuration: 1500
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }
    </script>
</body>

</html>
